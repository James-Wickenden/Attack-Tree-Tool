<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-GB" xml:lang="en-GB">
<head>
    <meta charset="UTF-8"/>
    <title>ATree Editor</title>
  
    <link rel="stylesheet" type="text/css" href="resources/css/editor_style.css"/>

    <!-- Loads and initialises mxgraph and its basepath -->
    <script type="text/javascript"> mxBasePath = 'resources/scripts/mxgraph'; </script>
    <script type= "text/javascript" src='resources/scripts/mxgraph/js/mxClient.js'></script>
    <script type= "text/javascript" src='resources/scripts/atree.js'></script>
    <script type= "text/javascript" src='resources/scripts/attribute.js'></script>
    <script type= "text/javascript" src='resources/scripts/textual_view.js'></script>

    <!-- Starts a clientside socket connection with handlers -->
    <script src="/socket.io/socket.io.js"></script>
    <script type= "text/javascript" src='resources/scripts/socket.js'></script>
</head>

<body onload="main(document.getElementById('graphContainer'));">
    <div id='JSON_import' style='display:none;'>
        <form id='jsonimport' onsubmit='ImportJSON(event)'>
            <input type='file' id='s_json' accept='application/JSON'></input>
            <input id='but_submit_json' type='submit' value='Submit'></input>
        </form>
    </div>
    
    <h2 id='headerText' class='headerInfo'>Attack Tree Editor</h2>
    <h2 id='curgroup' class='headerInfo'></h2>

    <div id='dropdownContainer'>
        <button onclick='ToggleDropdown()' class='dropbtn'>Options</button>
        <div id='dropdown_options' class='dropdown-content'>
            <a onclick='RefreshTree()'>Refresh tree</a>
            <a onclick='DownloadGraphJSON()'>Download tree</a>
            <a onclick='ImportJSON()'>Upload tree</a>
            <a onclick='GoToHelp()'>Help</a>
            <a onclick='GoToAbout()'>About</a>
        </div>
    </div>

    <div id='mxflexContainer';>

        <div id='tabContainer'>
            <div class='tabs'>
                <button class='tablink' id='defaultTabView' onclick="OpenTab(event, 'graphContainer');">Graph View</button>
                <button class='tablink' onclick="OpenTab(event, 'listContainer');">List View</button>
            </div>

            <div id='graphContainer' class='tabcontent'></div>

            <div id='listContainer' class='tabcontent'>
                <ul id="textual_cells_list"></ul>
            </div>
        </div>

        <div id='attrContainer'>
            <label id='attrHeader'>Attribute Editor</label>

            <div id='attributeList' class='attrContent'>
                <h3>Attribute List</h3>
                <form id="attribute_display_list"></form>
            </div>
            
            <div id='attributeEditor' class='attrContent'>
                <form id="attribute_editor_form"></form>
            </div>
            <div id='attributeCellForm' class='attrContent'></div>
        </div>
        
        
    </div>
    
</body>
</html>
